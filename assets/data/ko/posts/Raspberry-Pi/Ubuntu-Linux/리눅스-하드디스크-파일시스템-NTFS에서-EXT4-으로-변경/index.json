{"hash":"a8b9b78d98d739dba09a8e3012851220cae4d360","data":{"markdownPost":{"title":"리눅스 하드디스크 파일시스템 NTFS에서 EXT4 으로 변경","content":"<h1 id=\"서론\"><a href=\"#%EC%84%9C%EB%A1%A0\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>서론</h1>\n<p>이번에 DAS를 구매하게 되었다. 윈도우에서 사용하던 하드디스크를 라즈베리파이에 연결했다.\n그래서 리눅스에서 관리되기 때문에 EXT4로 관리하는게 훨씬 성능, 안정성면에서\n나을 것 같아서 EXT4로 변환했다.</p>\n<h1 id=\"하드디스크를-확인\"><a href=\"#%ED%95%98%EB%93%9C%EB%94%94%EC%8A%A4%ED%81%AC%EB%A5%BC-%ED%99%95%EC%9D%B8\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>하드디스크를 확인</h1>\n<pre class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">sudo</span> <span class=\"token function\">fdisk</span> -l\n<span class=\"token punctuation\">..</span>.\nDisk /dev/sdd: <span class=\"token number\">465.78</span> GiB, <span class=\"token number\">500107862016</span> bytes, <span class=\"token number\">976773168</span> sectors\nDisk model: TerraMaster\nUnits: sectors of <span class=\"token number\">1</span> * <span class=\"token number\">512</span> <span class=\"token operator\">=</span> <span class=\"token number\">512</span> bytes\nSector size <span class=\"token punctuation\">(</span>logical/physical<span class=\"token punctuation\">)</span>: <span class=\"token number\">512</span> bytes / <span class=\"token number\">4096</span> bytes\nI/O size <span class=\"token punctuation\">(</span>minimum/optimal<span class=\"token punctuation\">)</span>: <span class=\"token number\">4096</span> bytes / <span class=\"token number\">4096</span> bytes\nDisklabel type: dos\nDisk identifier: 0xd2******\n                     \nDevice     Boot Start       End   Sectors   Size Id Type\n/dev/sdd1        <span class=\"token number\">2048</span> <span class=\"token number\">976769023</span> <span class=\"token number\">976766976</span> <span class=\"token number\">465</span>.8G  <span class=\"token number\">7</span> HPFS/NTFS/exFAT<span class=\"line-numbers-rows\" aria-hidden=\"true\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h1 id=\"하드디스크-마운트\"><a href=\"#%ED%95%98%EB%93%9C%EB%94%94%EC%8A%A4%ED%81%AC-%EB%A7%88%EC%9A%B4%ED%8A%B8\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>하드디스크 마운트</h1>\n<p>윈도우에서 포맷한 드라이브여서 그런지 아래의 메시지가 뜬다.</p>\n<pre class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">sudo</span> <span class=\"token function\">mount</span> /dev/sdd1 /mnt/tmp\nThe disk contains an unclean <span class=\"token function\">file</span> system <span class=\"token punctuation\">(</span><span class=\"token number\">0</span>, <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>.\nThe <span class=\"token function\">file</span> system wasn't safely closed on Windows. Fixing.<span class=\"line-numbers-rows\" aria-hidden=\"true\"><span></span><span></span><span></span></span></code></pre>\n<p>하드디스크를 백업한다. (과정생략)</p>\n<h1 id=\"윈도우-파티션-삭제\"><a href=\"#%EC%9C%88%EB%8F%84%EC%9A%B0-%ED%8C%8C%ED%8B%B0%EC%85%98-%EC%82%AD%EC%A0%9C\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>윈도우 파티션 삭제</h1>\n<pre class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">sudo</span> <span class=\"token function\">fdisk</span> /dev/sdd\n\nWelcome to <span class=\"token function\">fdisk</span> <span class=\"token punctuation\">(</span>util-linux <span class=\"token number\">2.34</span><span class=\"token punctuation\">)</span>.\nChanges will remain <span class=\"token keyword\">in</span> memory only, <span class=\"token keyword\">until</span> you decide to <span class=\"token function\">write</span> them.\nBe careful before using the <span class=\"token function\">write</span> command.\n\n\nCommand <span class=\"token punctuation\">(</span>m <span class=\"token keyword\">for</span> <span class=\"token builtin class-name\">help</span><span class=\"token punctuation\">)</span>:<span class=\"line-numbers-rows\" aria-hidden=\"true\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>명령어 p를 입력하면 현재 선택된 하드 디스크가 확인된다.</p>\n<pre class=\"language-bash line-numbers\"><code class=\"language-bash\">Command <span class=\"token punctuation\">(</span>m <span class=\"token keyword\">for</span> <span class=\"token builtin class-name\">help</span><span class=\"token punctuation\">)</span>: p\nDisk /dev/sdd: <span class=\"token number\">465.78</span> GiB, <span class=\"token number\">500107862016</span> bytes, <span class=\"token number\">976773168</span> sectors\nDisk model: TerraMaster\nUnits: sectors of <span class=\"token number\">1</span> * <span class=\"token number\">512</span> <span class=\"token operator\">=</span> <span class=\"token number\">512</span> bytes\nSector size <span class=\"token punctuation\">(</span>logical/physical<span class=\"token punctuation\">)</span>: <span class=\"token number\">512</span> bytes / <span class=\"token number\">4096</span> bytes\nI/O size <span class=\"token punctuation\">(</span>minimum/optimal<span class=\"token punctuation\">)</span>: <span class=\"token number\">4096</span> bytes / <span class=\"token number\">4096</span> bytes\nDisklabel type: dos\nDisk identifier: 0xd2******\n\nDevice     Boot Start       End   Sectors   Size Id Type\n/dev/sdd1        <span class=\"token number\">2048</span> <span class=\"token number\">976769023</span> <span class=\"token number\">976766976</span> <span class=\"token number\">465</span>.8G  <span class=\"token number\">7</span> HPFS/NTFS/exFAT<span class=\"line-numbers-rows\" aria-hidden=\"true\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>백업완료 후 하드디스크 확인하고 이상이 없으면 d를 입력한다.</p>\n<pre class=\"language-bash line-numbers\"><code class=\"language-bash\">Command <span class=\"token punctuation\">(</span>m <span class=\"token keyword\">for</span> <span class=\"token builtin class-name\">help</span><span class=\"token punctuation\">)</span>: d\nSelected partition <span class=\"token number\">1</span>\nPartition <span class=\"token number\">1</span> has been deleted.<span class=\"line-numbers-rows\" aria-hidden=\"true\"><span></span><span></span><span></span></span></code></pre>\n<p>파티션 삭제완료</p>\n<h1 id=\"리눅스-ext4-파티션-생성\"><a href=\"#%EB%A6%AC%EB%88%85%EC%8A%A4-ext4-%ED%8C%8C%ED%8B%B0%EC%85%98-%EC%83%9D%EC%84%B1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>리눅스 Ext4 파티션 생성</h1>\n<p>n을 입력해서 새로운 파티션 생성. 이후 디폴트로 입력해준다.</p>\n<pre class=\"language-bash line-numbers\"><code class=\"language-bash\">Command <span class=\"token punctuation\">(</span>m <span class=\"token keyword\">for</span> <span class=\"token builtin class-name\">help</span><span class=\"token punctuation\">)</span>: n\nPartition <span class=\"token builtin class-name\">type</span>\n   p   primary <span class=\"token punctuation\">(</span><span class=\"token number\">0</span> primary, <span class=\"token number\">0</span> extended, <span class=\"token number\">4</span> <span class=\"token function\">free</span><span class=\"token punctuation\">)</span>\n   e   extended <span class=\"token punctuation\">(</span>container <span class=\"token keyword\">for</span> logical partitions<span class=\"token punctuation\">)</span>\nSelect <span class=\"token punctuation\">(</span>default p<span class=\"token punctuation\">)</span>: p\nPartition number <span class=\"token punctuation\">(</span><span class=\"token number\">1</span>-4, default <span class=\"token number\">1</span><span class=\"token punctuation\">)</span>: <span class=\"token number\">1</span>\nFirst sector <span class=\"token punctuation\">(</span><span class=\"token number\">2048</span>-976773167, default <span class=\"token number\">2048</span><span class=\"token punctuation\">)</span>:\nLast sector, +/-sectors or +/-size<span class=\"token punctuation\">{</span>K,M,G,T,P<span class=\"token punctuation\">}</span> <span class=\"token punctuation\">(</span><span class=\"token number\">2048</span>-976773167, default <span class=\"token number\">976773167</span><span class=\"token punctuation\">)</span>:\n\nCreated a new partition <span class=\"token number\">1</span> of <span class=\"token builtin class-name\">type</span> <span class=\"token string\">'Linux'</span> and of size <span class=\"token number\">465.8</span> GiB.\nPartition <span class=\"token comment\">#1 contains a ntfs signature.</span>\n\nDo you want to remove the signature? <span class=\"token punctuation\">[</span>Y<span class=\"token punctuation\">]</span>es/<span class=\"token punctuation\">[</span>N<span class=\"token punctuation\">]</span>o: y\n\nThe signature will be removed by a <span class=\"token function\">write</span> command.<span class=\"line-numbers-rows\" aria-hidden=\"true\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>결과확인을 위해 p입력</p>\n<pre class=\"language-bash line-numbers\"><code class=\"language-bash\">Command <span class=\"token punctuation\">(</span>m <span class=\"token keyword\">for</span> <span class=\"token builtin class-name\">help</span><span class=\"token punctuation\">)</span>: p\nDisk /dev/sdd: <span class=\"token number\">465.78</span> GiB, <span class=\"token number\">500107862016</span> bytes, <span class=\"token number\">976773168</span> sectors\nDisk model: TerraMaster\nUnits: sectors of <span class=\"token number\">1</span> * <span class=\"token number\">512</span> <span class=\"token operator\">=</span> <span class=\"token number\">512</span> bytes\nSector size <span class=\"token punctuation\">(</span>logical/physical<span class=\"token punctuation\">)</span>: <span class=\"token number\">512</span> bytes / <span class=\"token number\">4096</span> bytes\nI/O size <span class=\"token punctuation\">(</span>minimum/optimal<span class=\"token punctuation\">)</span>: <span class=\"token number\">4096</span> bytes / <span class=\"token number\">4096</span> bytes\nDisklabel type: dos\nDisk identifier: 0xd2******\n\nDevice     Boot Start       End   Sectors   Size Id Type\n/dev/sdd1        <span class=\"token number\">2048</span> <span class=\"token number\">976773167</span> <span class=\"token number\">976771120</span> <span class=\"token number\">465</span>.8G <span class=\"token number\">83</span> Linux\n\nFilesystem/RAID signature on partition <span class=\"token number\">1</span> will be wiped.<span class=\"line-numbers-rows\" aria-hidden=\"true\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h1 id=\"변경사항-저장\"><a href=\"#%EB%B3%80%EA%B2%BD%EC%82%AC%ED%95%AD-%EC%A0%80%EC%9E%A5\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>변경사항 저장</h1>\n<p>명령어 w를 입력을 해야지만 저장이 된다. 그냥 종료하면 변경사항이 저장이 되질 않는다.</p>\n<pre class=\"language-bash line-numbers\"><code class=\"language-bash\">Command <span class=\"token punctuation\">(</span>m <span class=\"token keyword\">for</span> <span class=\"token builtin class-name\">help</span><span class=\"token punctuation\">)</span>: w\nThe partition table has been altered.\nSyncing disks.<span class=\"line-numbers-rows\" aria-hidden=\"true\"><span></span><span></span><span></span></span></code></pre>\n<h1 id=\"ext4로-생성\"><a href=\"#ext4%EB%A1%9C-%EC%83%9D%EC%84%B1\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>EXT4로 생성</h1>\n<p>Creating journal (262144 blocks): 이 부분에서도 그냥 엔터를 입력했다.\n생성 후 정상 </p>\n<pre class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">sudo</span> mkfs.ext4 /dev/sdd1\n<span class=\"token function\">mke2fs</span> <span class=\"token number\">1.45</span>.5 <span class=\"token punctuation\">(</span>07-Jan-2020<span class=\"token punctuation\">)</span>\nCreating filesystem with <span class=\"token number\">122096390</span> 4k blocks and <span class=\"token number\">30531584</span> inodes\nFilesystem UUID: 6d374378-97b2-4f88-b3d8-44b39764430c\nSuperblock backups stored on blocks:\n        <span class=\"token number\">32768</span>, <span class=\"token number\">98304</span>, <span class=\"token number\">163840</span>, <span class=\"token number\">229376</span>, <span class=\"token number\">294912</span>, <span class=\"token number\">819200</span>, <span class=\"token number\">884736</span>, <span class=\"token number\">1605632</span>, <span class=\"token number\">2654208</span>,\n        <span class=\"token number\">4096000</span>, <span class=\"token number\">7962624</span>, <span class=\"token number\">11239424</span>, <span class=\"token number\">20480000</span>, <span class=\"token number\">23887872</span>, <span class=\"token number\">71663616</span>, <span class=\"token number\">78675968</span>,\n        <span class=\"token number\">102400000</span>\n\nAllocating group tables: <span class=\"token keyword\">done</span>\nWriting inode tables: <span class=\"token keyword\">done</span>\nCreating journal <span class=\"token punctuation\">(</span><span class=\"token number\">262144</span> blocks<span class=\"token punctuation\">)</span>:\n<span class=\"token keyword\">done</span>\nWriting superblocks and filesystem accounting information:\n<span class=\"token keyword\">done</span><span class=\"line-numbers-rows\" aria-hidden=\"true\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h1 id=\"결과-확인\"><a href=\"#%EA%B2%B0%EA%B3%BC-%ED%99%95%EC%9D%B8\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>결과 확인</h1>\n<pre class=\"language-bash line-numbers\"><code class=\"language-bash\">$ <span class=\"token function\">sudo</span> <span class=\"token function\">fdisk</span> -l\n<span class=\"token punctuation\">..</span>.\nDisk /dev/sdd: <span class=\"token number\">465.78</span> GiB, <span class=\"token number\">500107862016</span> bytes, <span class=\"token number\">976773168</span> sectors\nDisk model: TerraMaster\nUnits: sectors of <span class=\"token number\">1</span> * <span class=\"token number\">512</span> <span class=\"token operator\">=</span> <span class=\"token number\">512</span> bytes\nSector size <span class=\"token punctuation\">(</span>logical/physical<span class=\"token punctuation\">)</span>: <span class=\"token number\">512</span> bytes / <span class=\"token number\">4096</span> bytes\nI/O size <span class=\"token punctuation\">(</span>minimum/optimal<span class=\"token punctuation\">)</span>: <span class=\"token number\">4096</span> bytes / <span class=\"token number\">4096</span> bytes\nDisklabel type: dos\nDisk identifier: 0xd2******\n\nDevice     Boot Start       End   Sectors   Size Id Type\n/dev/sdd1        <span class=\"token number\">2048</span> <span class=\"token number\">976773167</span> <span class=\"token number\">976771120</span> <span class=\"token number\">465</span>.8G <span class=\"token number\">83</span> Linux<span class=\"line-numbers-rows\" aria-hidden=\"true\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>정상적으로 전환완료!</p>\n","date":"2022-05-08T03:22:00.000Z","category":["Raspberry Pi","Ubuntu Linux"],"lang":"ko"}},"context":{}}