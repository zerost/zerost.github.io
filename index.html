<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22en%22%7D%7D">
  <head>
    <title>ZEROST&#x27;s Blog - ZEROST&#x27;s Blog</title><meta name="gridsome:hash" content="fbe7d96c72ebcbd91d3c0ae3ca942481beda4a21"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.23"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.9bb7ffafafc09ac851d81afb65b8ef59.png"><link data-vue-tag="ssr" rel="preconnect" href="https://fonts.googleapis.com"><link data-vue-tag="ssr" rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Nanum+Gothic+Coding&amp;family=Noto+Sans+KR:wght@300;700&amp;display=swap"><link rel="preload" href="/assets/css/0.styles.58ed8584.css" as="style"><link rel="preload" href="/assets/js/app.4d8c6a6c.js" as="script"><link rel="preload" href="/assets/js/page--src-pages-index-vue.45f93a8a.js" as="script"><link rel="prefetch" href="/assets/js/page--node-modules-gridsome-app-pages-404-vue.d5e9f9b5.js"><link rel="prefetch" href="/assets/js/page--src-pages-about-vue.a56de421.js"><link rel="prefetch" href="/assets/js/page--src-templates-index-vue.ce9e5a22.js"><link rel="prefetch" href="/assets/js/page--src-templates-markdown-post-vue.691e115e.js"><link rel="stylesheet" href="/assets/css/0.styles.58ed8584.css"><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app" class="layout" data-v-32bcf3c6><header class="header"><strong><a href="/" aria-current="page" class="active--exact active"><h2>ZEROST's Blog</h2></a></strong><nav class="nav"><a href="/" aria-current="page" class="nav__link active--exact active">Home</a><a href="/about/" class="nav__link">About</a></nav></header><div class="main-container"><nav><ul><li><a href="/ko/posts/Blog">Blog</a><ul><li><a href="/ko/posts/Blog/%EB%B8%94%EB%A1%9C%EA%B7%B8%EA%B0%9C%EB%B0%9C%EC%9D%BC%EC%A7%80">블로그개발일지</a></li><li><a href="/ko/posts/Blog/%EC%97%90%EC%84%B8%EC%9D%B4">에세이</a></li></ul></li><li><a href="/ko/posts/Database">Database</a><ul><li><a href="/ko/posts/Database/Postgresql">Postgresql</a></li></ul></li><li><a href="/ko/posts/FrontEnd">FrontEnd</a><ul><li><a href="/ko/posts/FrontEnd/Gridsome">Gridsome</a></li><li><a href="/ko/posts/FrontEnd/Vue3">Vue3</a></li></ul></li><li><a href="/ko/posts/Linux">Linux</a><ul><li><a href="/ko/posts/Linux/Shell-Script">Shell Script</a></li></ul></li><li><a href="/ko/posts/NodeJS">NodeJS</a><ul><li><a href="/ko/posts/NodeJS/%EA%B0%9C%EB%B0%9C%ED%99%98%EA%B2%BD">개발환경</a></li></ul></li><li><a href="/ko/posts/Raspberry-Pi">Raspberry Pi</a><ul><li><a href="/ko/posts/Raspberry-Pi/Ubuntu-Linux">Ubuntu Linux</a></li></ul></li></ul></nav><main><h2 class="subtitle" data-v-32bcf3c6>Zerost's Programming Notes</h2><div data-v-32bcf3c6><a href="/ko/posts/Linux/Shell-Script/Shell-Script-변수" data-v-32bcf3c6><h3 class="title" data-v-32bcf3c6>Shell Script 변수</h3></a><div class="post-info" data-v-32bcf3c6><div class="category" data-v-32bcf3c6>[카테고리] Linux/Shell Script</div><div class="date" data-v-32bcf3c6>[작성시간] 2022-05-13T11:28:00.000Z</div></div><div class="content" data-v-32bcf3c6>배경
Raspberry PI에 우분투 리눅스를 사용하고 있다. 해당 리눅스에 DB 자동 백업을 하려고 하다보니
자연스럽게 쉘스크립트를 사용할 상황이 되었다. 그래서 급하게 필요한 내용만 인터넷에서 검색을 해서 습득을 했다.
문법
변수 선언하는 방법은 간단하다. 변수명=변수값 이다. 주의할 점은 다른언어에서와 같이 = 앞뒤로 공백이 들어가면 안된다.
#!/bin/sh
NUM=1234 #숫자형
STRING=&quot;HELLO WORLD!&quot; #문자형
STRING2 = &quot;안되네?&quot; #ERROR: 변수할당 불가함

echo $NUM #1234
echo $STRING #HELLO WORLD!
echo $STRING2 #빈공백만 출력됨
활용
스토리지에 백업할 때 연도별, 월별로 폴더를 생성 하는 로직이다.
#!/bin/sh
...(생략)
DIR=/storage/db-backup/$(date +%Y)/$(date +%m)
mkdir $DIR -p #폴더생성 
MV *.backup $DIR #.backup 파일 신규 생성 폴더로 복사
</div></div><div data-v-32bcf3c6><a href="/ko/posts/Blog/%EB%B8%94%EB%A1%9C%EA%B7%B8%EA%B0%9C%EB%B0%9C%EC%9D%BC%EC%A7%80/20220508-왼쪽-네비게이션바-생성" data-v-32bcf3c6><h3 class="title" data-v-32bcf3c6>20220508 왼쪽 네비게이션바 생성</h3></a><div class="post-info" data-v-32bcf3c6><div class="category" data-v-32bcf3c6>[카테고리] Blog/블로그개발일지</div><div class="date" data-v-32bcf3c6>[작성시간] 2022-05-08T04:49:00.000Z</div></div><div class="content" data-v-32bcf3c6>블로그에 글이 하나둘 늘어간다. 그에 따라서 글을 찾아보기가 힘들어서 카테고리별로 왼쪽 네비게이션바가 나오도록 개발했다.

</div></div><div data-v-32bcf3c6><a href="/ko/posts/Raspberry-Pi/Ubuntu-Linux/리눅스-하드디스크-파일시스템-NTFS에서-EXT4-으로-변경" data-v-32bcf3c6><h3 class="title" data-v-32bcf3c6>리눅스 하드디스크 파일시스템 NTFS에서 EXT4 으로 변경</h3></a><div class="post-info" data-v-32bcf3c6><div class="category" data-v-32bcf3c6>[카테고리] Raspberry Pi/Ubuntu Linux</div><div class="date" data-v-32bcf3c6>[작성시간] 2022-05-08T03:22:00.000Z</div></div><div class="content" data-v-32bcf3c6>서론
이번에 DAS를 구매하게 되었다. 윈도우에서 사용하던 하드디스크를 라즈베리파이에 연결했다.
그래서 리눅스에서 관리되기 때문에 EXT4로 관리하는게 훨씬 성능, 안정성면에서
나을 것 같아서 EXT4로 변환했다.
하드디스크를 확인
$ sudo fdisk -l
...
Disk /dev/sdd: 465.78 GiB, 500107862016 bytes, 976773168 sectors
Disk model: TerraMaster
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 4096 bytes
I/O size (minimum/optimal): 4096 bytes / 4096 bytes
Disklabel type: dos
Disk identifier: 0xd2******
                     
Device     Boot Start       End   Sectors   Size Id Type
/dev/sdd1        2048 976769023 976766976 465.8G  7 HPFS/NTFS/exFAT
하드디스크 마운트
윈도우에서 포맷한 드라이브여서 그런지 아래의 메시지가 뜬다.
$ sudo mount /dev/sdd1 /mnt/tmp
The disk contains an unclean file system (0, 0).
The file system wasn't safely closed on Windows. Fixing.
하드디스크를 백업한다. (과정생략)
윈도우 파티션 삭제
$ sudo fdisk /dev/sdd

Welcome to fdisk (util-linux 2.34).
Changes will remain in memory only, until you decide to write them.
Be careful before using the write command.


Command (m for help):
명령어 p를 입력하면 현재 선택된 하드 디스크가 확인된다.
Command (m for help): p
Disk /dev/sdd: 465.78 GiB, 500107862016 bytes, 976773168 sectors
Disk model: TerraMaster
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 4096 bytes
I/O size (minimum/optimal): 4096 bytes / 4096 bytes
Disklabel type: dos
Disk identifier: 0xd2******

Device     Boot Start       End   Sectors   Size Id Type
/dev/sdd1        2048 976769023 976766976 465.8G  7 HPFS/NTFS/exFAT
백업완료 후 하드디스크 확인하고 이상이 없으면 d를 입력한다.
Command (m for help): d
Selected partition 1
Partition 1 has been deleted.
파티션 삭제완료
리눅스 Ext4 파티션 생성
n을 입력해서 새로운 파티션 생성. 이후 디폴트로 입력해준다.
Command (m for help): n
Partition type
   p   primary (0 primary, 0 extended, 4 free)
   e   extended (container for logical partitions)
Select (default p): p
Partition number (1-4, default 1): 1
First sector (2048-976773167, default 2048):
Last sector, +/-sectors or +/-size{K,M,G,T,P} (2048-976773167, default 976773167):

Created a new partition 1 of type 'Linux' and of size 465.8 GiB.
Partition #1 contains a ntfs signature.

Do you want to remove the signature? [Y]es/[N]o: y

The signature will be removed by a write command.
결과확인을 위해 p입력
Command (m for help): p
Disk /dev/sdd: 465.78 GiB, 500107862016 bytes, 976773168 sectors
Disk model: TerraMaster
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 4096 bytes
I/O size (minimum/optimal): 4096 bytes / 4096 bytes
Disklabel type: dos
Disk identifier: 0xd2******

Device     Boot Start       End   Sectors   Size Id Type
/dev/sdd1        2048 976773167 976771120 465.8G 83 Linux

Filesystem/RAID signature on partition 1 will be wiped.
변경사항 저장
명령어 w를 입력을 해야지만 저장이 된다. 그냥 종료하면 변경사항이 저장이 되질 않는다.
Command (m for help): w
The partition table has been altered.
Syncing disks.
EXT4로 생성
Creating journal (262144 blocks): 이 부분에서도 그냥 엔터를 입력했다.
생성 후 정상 
$ sudo mkfs.ext4 /dev/sdd1
mke2fs 1.45.5 (07-Jan-2020)
Creating filesystem with 122096390 4k blocks and 30531584 inodes
Filesystem UUID: 6d374378-97b2-4f88-b3d8-44b39764430c
Superblock backups stored on blocks:
        32768, 98304, 163840, 229376, 294912, 819200, 884736, 1605632, 2654208,
        4096000, 7962624, 11239424, 20480000, 23887872, 71663616, 78675968,
        102400000

Allocating group tables: done
Writing inode tables: done
Creating journal (262144 blocks):
done
Writing superblocks and filesystem accounting information:
done
결과 확인
$ sudo fdisk -l
...
Disk /dev/sdd: 465.78 GiB, 500107862016 bytes, 976773168 sectors
Disk model: TerraMaster
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 4096 bytes
I/O size (minimum/optimal): 4096 bytes / 4096 bytes
Disklabel type: dos
Disk identifier: 0xd2******

Device     Boot Start       End   Sectors   Size Id Type
/dev/sdd1        2048 976773167 976771120 465.8G 83 Linux
정상적으로 전환완료!
</div></div><div data-v-32bcf3c6><a href="/ko/posts/FrontEnd/Gridsome/Gridsome-Sitemap-Plugin-적용" data-v-32bcf3c6><h3 class="title" data-v-32bcf3c6>Gridsome Sitemap Plugin 적용</h3></a><div class="post-info" data-v-32bcf3c6><div class="category" data-v-32bcf3c6>[카테고리] FrontEnd/Gridsome</div><div class="date" data-v-32bcf3c6>[작성시간] 2022-04-18T21:53:00.000Z</div></div><div class="content" data-v-32bcf3c6>
배경
검색엔진 최적화(SEO) 중에 해야할 일중 하나가 sitemap을 생성하는 일이다.
sitemap은 사이트의 내용들을 담은 url들을 정리해놓은 xml파일이다.
보통 robots.txt파일에 sitemap경로를 정의하기도 하지만 웹사이트 url 뒤에 /sitemap.xml을 입력해보면 보통 출력된다.
예를들면 https://blog.zerost.com/sitemap.xml 처럼 말이다. 
설치
Gridsome plugin에서 확인을 하게되면 

@gridsome/plugin-sitemap

을 찾는다. 문서가 잘되어있어서 왠만한건 해당 문서만 확인하고 설치가 가능하다.
npm
npm i @gridsome/plugin-sitemap
yarn
yarn add @gridsome/plugin-sitemap
이렇게 설치를 하고 나서 나의 경우는 한해서 아래와 같이 설정만 해주면 끝이난다. sitemap.xml 파일은 사이트를 build를 한 경우만 생성이 되고 develop으로 서버를 부팅했을 경우는 접근이 안된다. 
{
    use: &quot;@gridsome/plugin-sitemap&quot;,
    options: {
        config: {
            &quot;/ko/**&quot;: {
                changefreq: &quot;weekly&quot;,
                priority: 0.5,
                lastmod: &quot;2022-04-12&quot;,
            },
            &quot;/about&quot;: {
                changefreq: &quot;monthly&quot;,
                priority: 0.7,
                lastmod: &quot;2022-04-12&quot;,
            }
        }
    }
}
결론
Markdown 파일들을 읽어서 자동으로 sitemap.xml까지 만들어주는 Gridsome 엔진. 설치도 간단하고, 문서도 친절하게 잘나와있다. 너무나도 마음에 든다.
해당 설정이 변경되면 이 문서도 같이 수정하도록 하겠다. 약간 수정이 필요한 것 같은게 lastmod 속성이 MD파일의 속성을 읽어서 출력해 줬으면 더 좋을 것 같다는 생각이 든다. 시간 되면 그렇게 할수있도록 수정을 조금 해봐야겠다.
참조

@gridsome/plugin-sitemap

</div></div><div data-v-32bcf3c6><a href="/ko/posts/FrontEnd/Gridsome/Gridsome-구글-애널리틱스-적용하기" data-v-32bcf3c6><h3 class="title" data-v-32bcf3c6>Gridsome 구글 애널리틱스 적용하기</h3></a><div class="post-info" data-v-32bcf3c6><div class="category" data-v-32bcf3c6>[카테고리] FrontEnd/Gridsome</div><div class="date" data-v-32bcf3c6>[작성시간] 2022-04-17T23:42:00.000Z</div></div><div class="content" data-v-32bcf3c6>
배경
구글 애널리틱스를 적용하게 되면 사이트에 몇명이 방문하는지, 어떤 경로로, 어떤 검색어로 찾아오는지 알 수 있다.
뭐 신생 블로그다 보니까 당연히 들어오는 사람도 없겠지만, 언젠가는 내가 쓴 글이 다른사람에게 도움이 될 수 도 있는 것이라고 생각한다.
그래서 반응도 확인할 겸 등록하게 되었다.
설치
Gridsome에 플러그인이 있는지 처음 확인을 했었다. 

@gridsome/plugin-google-analytics

라는것이 있기에 이걸 적용하면 되는 줄 알았다. 그런데 이 플러그인을 적용했는데도, 크롬 개발자 도구에 네트워크 요청도 없었다. 이상하다고 생각해서 문서를 보다보니 vue-analytics를 참조해서 개발이 된걸로 추측이 된다.  
그런데 사이트 들어가보니...

⚠️ Sorry but vue-analytics is not longer maintained. I would suggest you to switch to vue-gtag. With love, the guy who made the package.

라고 되어있다. vue-gtag를 사용하란다..
그래서 gtag로 검색을 했더니

gridsome-plugin-gtag

패키지가 있다. 이 패키지를 설치했다.
npm
npm i gridsome-plugin-gtag
yarn
yarn add gridsome-plugin-gtag
그리고
gridsome.config.js 파일에 추가를 했더니 정상작동한다!
{
    use: 'gridsome-plugin-gtag',
    options: {
        config: {
            id: '[GOOGLE_ANALYTICS_ID]'
        },
    },
}
결론
설치하고 났더니 방문자를 알 수 있어서 좋다.
근데, Gridsome plugins 페이지에서 @gridsome/plugin-google-analytics 이건 좀 지워야 되는거 아닌지 모르겠다.
참조

Gridsome Plugin to incorporate Google Tag
@gridsome/plugin-google-analytics
vue-analytics

</div></div></main></div></div>
    <script src="/assets/js/app.4d8c6a6c.js" defer></script><script src="/assets/js/page--src-pages-index-vue.45f93a8a.js" defer></script>
  </body>
</html>
